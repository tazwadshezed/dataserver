var img_spinner_url='<img src="../images/arraytools/ajax-loader.gif" />',img_check_url='<img src="../images/arraytools/16-em-check_16x16.png")}}" />',img_cancel_url='<img src="../images/arraytools/cancel_16x16.png")}}" />',img_button_url='<img src="../images/arraytools/button_cancel_16x16.png")}}" />',poller_timerid=0,stop_polling=!1;
function poll_responses(b,i,j){for(var k=[],f=[],g=!1,d=!1,h=0;h<b.length;h++)f.push(b[h].correlation_id);poller_timerid=setInterval(function(){!1==d&&(d=!0,$.ajax({url:"/admin/arraytools/do/poll",dataType:"json",type:"POST",data:{commands:$.serializeJSON(b)},success:function(e){for(var a=0;a<e.responded.length;a++){var c=f.indexOf(e.responded[a].correlation_id);-1!=c&&(f.splice(c,1),k.push(b.splice(c,1)[0]))}0==b.length&&(g=!0);if(!0==stop_polling){g=!0;stop_polling=!1;for(a=0;a<b.length;a++)c=b[a],
c.status=!1,c.msg="????",i(b[a])}!0==g&&(clearInterval(poller_timerid),a=[],$.merge(a,b),$.merge(a,k),$.ajax({url:"/admin/arraytools/do/done_poll",dataType:"json",type:"POST",data:{commands:$.serializeJSON(a)},success:function(){}}),j());for(a=0;a<e.data.length;a++)c=e.data[a],i(c);d=!1},error:function(){clearInterval(poller_timerid);j();alert("Ajax error while polling.");d=!1}}))},2E3)};