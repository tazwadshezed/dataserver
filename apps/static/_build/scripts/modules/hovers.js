define(["jquery"],function(d){ss.hovers={hover:{_init:function(a){this.options=d.extend({},this.options,a);this.element=this.options.attachTo;this.$element=d(this.options.attachTo);this._build();this._active=!1;this._addListeners()},_build:function(){this.myHover=d('<div class="hover"><div class="content"></div></div>');this.myHover.children(".content").append(this.options.content);this.myHover.css({display:"none",width:this.options.width,height:this.options.height,opacity:0.8})},update:function(a){this.options.content=
a;this.myHover.find(".content").html(a)},show:function(){d("body").append(this.myHover);this._position();this.myHover.fadeIn(250);this._active=!0},hide:function(){this.myHover.fadeOut(250).queue(function(){d(this).remove()});this._active=!1},_position:function(a,e,b,f){var c=this.$element.offset(),f=this.$element.height(),b=this.$element.width();if(this.options.followMouse)this.myHover.css({background:"url("+ss.urls.src+"images/sprite_hoverArrow.png) center bottom no-repeat","padding-bottom":6,left:c.left+
b/2-this.myHover.width()/2,top:c.top-f-7});else{var a={background:"url("+ss.urls.src+"images/sprite_hoverArrow.png) center bottom no-repeat","padding-bottom":6,left:c.left+b/2-this.myHover.width()/2,top:c.top-f-6},e={background:"url("+ss.urls.src+"images/sprite_hoverArrow.png) center 0 no-repeat","padding-top":6,left:c.left+b/2-this.myHover.width()/2,top:c.top+f+6},d={background:"url("+ss.urls.src+"images/sprite_hoverArrow.png) right center no-repeat","padding-right":6,left:c.left-this.myHover.width()-
6,top:c.top+f/2-this.myHover.height()/2},b={background:"url("+ss.urls.src+"images/sprite_hoverArrow.png) left center no-repeat","padding-left":6,left:c.left+b+6,top:c.top+f/2-this.myHover.height()/2};"top"==this.options.position||"t"==this.options.position?this.myHover.css(a):"bottom"==this.options.position||"b"==this.options.position?this.myHover.css(e):"left"==this.options.position||"l"==this.options.position?this.myHover.css(d):("right"==this.options.position||"r"==this.options.position)&&this.myHover.css(b)}},
_addListeners:function(){var a=this,e,b=function(){a.hide()};this.options.followMouse&&this.$element.mousemove(function(b){a._active&&a.myHover.css({left:b.pageX-a.myHover.width()/2,top:b.pageY-a.myHover.height()-6})});this.$element.hover(function(){clearTimeout(e);a.show();e=setTimeout(b,6E4)},function(){e=setTimeout(b,250);a.myHover.hover(function(){d(this).animate({opacity:1});clearTimeout(e)},function(){d(this).animate({opacity:0.8});e=setTimeout(b,250)})});this.$element.click(function(a){a.preventDefault()})},
options:{position:"bottom",content:"Loading...",width:null,height:null,followMouse:!1}}};return ss.hovers.hover});